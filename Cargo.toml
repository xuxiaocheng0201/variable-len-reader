[package]
name = "variable-len-reader"
version = "2.2.0"
authors = ["xuxiaocheng <2762267080@qq.com>"]
edition = "2021"
description = "A library for reading/writing variable length data. Support AsyncRead/AsyncWrite in tokio."
readme = "README.md"
license = "MIT"
repository = "https://github.com/xuxiaocheng0201/variable-len-reader/"
documentation = "https://docs.rs/variable-len-reader/"
categories = ["encoding"]
keywords = ["varint", "zigzag", "io", "async", "futures"]
exclude = ["test-builds.bat"]

[dependencies]
pin-project-lite = { version = "~0.2", optional = true }
tokio = { version = "^1", optional = true, default-features = false }
bytes = { version = "^1", optional = true }

[dev-dependencies]
anyhow = "^1"
tokio = { version = "^1", features = ["macros", "rt-multi-thread", "net", "time", "io-util", "sync"] }

[features]
default = ["varint", "string"]
full = ["bools", "raw", "raw_size", "varint", "varint_size", "long_varint", "signed", "long_signed", "vec_u8", "string",
    "async", "async_bools", "async_raw", "async_raw_size", "async_varint", "async_varint_size", "async_long_varint", "async_signed", "async_long_signed", "async_vec_u8", "async_string"]

bools = []
raw = []
raw_size = ["raw"]
varint = ["raw"]
varint_size = ["varint"]
long_varint = ["varint"]
signed = ["varint"]
long_signed = ["signed", "long_varint"]
vec_u8 = ["varint_size"]
string = ["vec_u8"]

async = ["dep:pin-project-lite", "dep:tokio"]
async_default = ["async_varint", "async_string"]
async_bools = ["async"]
async_raw = ["async"]
async_raw_size = ["async_raw"]
async_varint = ["async_raw"]
async_varint_size = ["async_varint"]
async_long_varint = ["async_varint"]
async_signed = ["async_varint"]
async_long_signed = ["async_signed", "async_long_varint"]
async_vec_u8 = ["async_varint_size"]
async_string = ["async_vec_u8"]

[build-dependencies]
reportme = "~0.2"

[badges]
maintenance = { status = "passively-maintained" }

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]

[package.metadata.playground]
features = ["full"]
